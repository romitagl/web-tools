import{j as e}from"./index-D62iepav.js";import{r as c}from"./react-vendor-CjoZ0FnW.js";import{L as A}from"./Layout-7YO7GSX_.js";import{p as F,R,d as U,A as D,c as M,h as O,D as T,e as L}from"./ui-Bjy91_IB.js";function H(){const[n,h]=c.useState("encode"),[r,d]=c.useState(""),[o,l]=c.useState(""),[j,u]=c.useState(""),[b,f]=c.useState(""),[$,N]=c.useState(!1),[g,x]=c.useState(!1),[m,p]=c.useState({inputSize:0,outputSize:0,ratio:0});c.useEffect(()=>{r?S():(l(""),p({inputSize:0,outputSize:0,ratio:0}))},[r,n]);const S=()=>{N(!0),u("");try{if(n==="encode"){const t=btoa(unescape(encodeURIComponent(r)));l(t);const a=new Blob([r]).size,s=new Blob([t]).size;p({inputSize:a,outputSize:s,ratio:s/a})}else{if(!/^[A-Za-z0-9+/=]+$/.test(r.trim()))throw new Error("Invalid Base64 format. Base64 strings only contain A-Z, a-z, 0-9, +, /, and =");const t=decodeURIComponent(escape(atob(r.trim())));l(t);const a=new Blob([r]).size,s=new Blob([t]).size;p({inputSize:a,outputSize:s,ratio:s/a})}}catch(t){console.error("Error processing:",t),u(t.message||"An error occurred while processing the input"),l(""),p({inputSize:0,outputSize:0,ratio:0})}finally{N(!1)}},B=()=>{d(""),l(""),f(""),u(""),x(!1),p({inputSize:0,outputSize:0,ratio:0})},w=()=>{o&&(d(o),h(n==="encode"?"decode":"encode"))},y=()=>{o&&navigator.clipboard.writeText(o).then(()=>{x(!0),setTimeout(()=>x(!1),2e3)}).catch(t=>{console.error("Failed to copy text: ",t),u("Failed to copy to clipboard")})},C=()=>{if(!o)return;const t=n==="encode"?`${b||"encoded"}.base64.txt`:`${b||"decoded"}.txt`,a=new Blob([o],{type:"text/plain"}),s=URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)},E=t=>{const a=t.target.files[0];if(!a)return;f(a.name.replace(/\.[^/.]+$/,""));const s=new FileReader;s.onload=i=>{d(i.target.result)},s.onerror=()=>{u("Error reading file")},s.readAsText(a)},v=(t,a=2)=>{if(t===0)return"0 Bytes";const s=1024,i=a<0?0:a,k=["Bytes","KB","MB","GB","TB"],z=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,z)).toFixed(i))+" "+k[z]},I=e.jsxs("div",{className:"info-banner",children:[e.jsx("div",{className:"info-icon",children:e.jsx(L,{size:20})}),e.jsx("div",{className:"info-content",children:"Encode text to Base64 or decode Base64 to text. All processing happens locally in your browser - no data is sent to any server."})]});return e.jsxs(A,{title:"Base64 Encoder/Decoder",description:I,children:[e.jsxs("div",{className:"base64-container",children:[e.jsxs("div",{className:"mode-toggle",children:[e.jsx("button",{className:`mode-button ${n==="encode"?"active":""}`,onClick:()=>h("encode"),children:"Encode to Base64"}),e.jsx("button",{className:`mode-button ${n==="decode"?"active":""}`,onClick:()=>h("decode"),children:"Decode from Base64"})]}),e.jsxs("div",{className:"input-container",children:[e.jsxs("div",{className:"input-header",children:[e.jsx("h3",{children:n==="encode"?"Text to Encode":"Base64 to Decode"}),e.jsxs("div",{className:"input-actions",children:[e.jsxs("label",{className:"file-upload-button",children:[e.jsx(F,{size:16}),e.jsx("span",{children:"Upload File"}),e.jsx("input",{type:"file",onChange:E,className:"hidden-file-input",accept:n==="encode"?".txt":".txt,.base64,.b64"})]}),e.jsxs("button",{onClick:B,className:"clear-button",disabled:!r&&!o,children:[e.jsx(R,{size:16}),e.jsx("span",{children:"Clear"})]})]})]}),e.jsx("textarea",{value:r,onChange:t=>d(t.target.value),placeholder:n==="encode"?"Enter text to encode to Base64...":"Enter Base64 to decode...",className:"text-input"}),j&&e.jsxs("div",{className:"error-message",children:[e.jsx(U,{size:16}),e.jsx("span",{children:j})]})]}),e.jsx("div",{className:"swap-container",children:e.jsxs("button",{className:"swap-button",onClick:w,disabled:!o,children:[e.jsx(D,{size:20}),e.jsx("span",{children:"Swap"})]})}),e.jsxs("div",{className:"output-container",children:[e.jsxs("div",{className:"output-header",children:[e.jsx("h3",{children:n==="encode"?"Base64 Output":"Decoded Text"}),e.jsxs("div",{className:"output-actions",children:[e.jsx("button",{onClick:y,className:`action-button copy-button ${g?"copied":""}`,disabled:!o,children:g?e.jsxs(e.Fragment,{children:[e.jsx(M,{size:16}),e.jsx("span",{children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{size:16}),e.jsx("span",{children:"Copy"})]})}),e.jsxs("button",{onClick:C,className:"action-button download-button",disabled:!o,children:[e.jsx(T,{size:16}),e.jsx("span",{children:"Download"})]})]})]}),e.jsx("textarea",{value:o,readOnly:!0,className:"text-output",placeholder:n==="encode"?"Encoded Base64 will appear here...":"Decoded text will appear here..."}),o&&e.jsxs("div",{className:"stats-container",children:[e.jsxs("div",{className:"stats-item",children:[e.jsx("span",{className:"stats-label",children:"Input Size:"}),e.jsx("span",{className:"stats-value",children:v(m.inputSize)})]}),e.jsxs("div",{className:"stats-item",children:[e.jsx("span",{className:"stats-label",children:"Output Size:"}),e.jsx("span",{className:"stats-value",children:v(m.outputSize)})]}),e.jsxs("div",{className:"stats-item",children:[e.jsx("span",{className:"stats-label",children:"Size Ratio:"}),e.jsxs("span",{className:"stats-value",children:[m.ratio.toFixed(2),"x"]})]})]})]})]}),e.jsxs("div",{className:"info-section",children:[e.jsx("h3",{children:"About Base64 Encoding"}),e.jsx("p",{children:"Base64 is a binary-to-text encoding scheme that represents binary data in an ASCII string format by translating it into a radix-64 representation. It's commonly used when there's a need to encode binary data that needs to be stored and transferred over media that are designed to deal with text."}),e.jsx("h4",{children:"Common Uses:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Embedding binary data in text formats like HTML, CSS, JSON, XML"}),e.jsx("li",{children:"Email attachments (MIME format)"}),e.jsx("li",{children:"Storing complex data in JSON strings"}),e.jsx("li",{children:"Data URIs in web browsers"}),e.jsx("li",{children:"Avoiding character encoding issues when transferring data"})]}),e.jsxs("div",{className:"note",children:[e.jsx("strong",{children:"Note:"})," Base64 encoding increases the data size by approximately 33% (a ratio of 4:3) compared to the original data."]})]})]})}export{H as default};
//# sourceMappingURL=Base64Tool-DmMWwYEi.js.map
